%%%%%% Styling %%%%%%

\newcounter{qcounter}
\usepackage{graphicx, mathtools, amssymb, latexsym, amsmath, amsfonts, amsthm,bbm}
\usepackage{array, fancyhdr, xcolor, bm, listings, tikz, soul, xcolor,titlesec}
%\usepackage[hidelinks]{hyperref}
%\pagestyle{fancy}
%\hypersetup{colorlinks=false}

\setlength{\textheight}{9in}
\setlength{\textwidth}{6.5in}
\setlength{\topmargin}{-0.3in}
\setlength{\headheight}{0.0in}
\setlength{\headsep}{0.4in}
\setlength{\headwidth}{6.5in}
\setlength{\oddsidemargin}{-0.1in}
\setlength{\evensidemargin}{-0.1in}
%\setlength{\leftmargin}{-0.5in}
%\setlength{\rightmargin}{-0.5in}
%\setlength{\parindent}{0pc}
\setlength{\parskip}{0in}

\usepackage{hyperref}
\hypersetup{
    colorlinks=true, % make the links colored
    linkcolor=blue, % color TOC links in blue
    urlcolor=red, % color URLs in red
    linktoc=all % 'all' will create links for everything in the TOC
}

% Hack from http://tex.stackexchange.com/questions/60209/how-to-add-an-extra-level-of-sections-with-headings-below-subsubsection 
\titleclass{\subsubsubsection}{straight}[\subsection]
\newcounter{subsubsubsection}[subsubsection]
\renewcommand\thesubsubsubsection{\thesubsubsection.\arabic{subsubsubsection}}
\renewcommand\theparagraph{\thesubsubsubsection.\arabic{paragraph}} % optional; useful if paragraphs are to be numbered
\titleformat{\subsubsubsection}
  {\normalfont\normalsize\bfseries}{\thesubsubsubsection}{1em}{}
\titlespacing*{\subsubsubsection}
{0pt}{3.25ex plus 1ex minus .2ex}{1.5ex plus .2ex}
\def\toclevel@subsubsubsection{4}
\def\l@subsubsubsection{\@dottedtocline{4}{7em}{4em}}
\setcounter{secnumdepth}{4}
\setcounter{tocdepth}{4}


%%%%%% Macros %%%%%%

%%% Text Mode %%%

% Theorems
\theoremstyle{plain}
\newtheorem{theorem}{Theorem}[section]
\newtheorem{lemma}[theorem]{Lemma}
\newtheorem{claim}[theorem]{Claim}
\newtheorem{proposition}[theorem]{Proposition}
\newtheorem{fact}[theorem]{Fact}
\newtheorem{corollary}[theorem]{Corollary}
\newtheorem{hint}[theorem]{Hint}
\newtheorem{conjecture}[theorem]{Conjecture}
\newtheorem*{lemma*}{Lemma}
\newtheorem*{claim*}{Claim}
\newtheorem*{proposition*}{Proposition}
\newtheorem*{fact*}{Fact}
\newtheorem*{corollary*}{Corollary}
\newtheorem*{hint*}{Hint}

\theoremstyle{definition}
\newtheorem{definition}[theorem]{Definition}
\newtheorem{remark}[theorem]{Remark}
\newtheorem{notation}[theorem]{Notation}
\newtheorem{example}[theorem]{Example}
\newtheorem{examples}[theorem]{Examples}
\newtheorem{question}[theorem]{Question}
\newtheorem{problem}[theorem]{Problem}
\newtheorem{exercise}[theorem]{Exercise}
\newtheorem{solution}{Solution}
\newtheorem{idea}{Idea}
\newtheorem{intuition}{Intuition}
\newtheorem*{theorem*}{Theorem}
\newtheorem*{definition*}{Definition}
\newtheorem*{remark*}{Remark}
\newtheorem*{notation*}{Notation}
\newtheorem*{example*}{Example}
\newtheorem*{examples*}{Examples}
\newtheorem*{question*}{Question}
\newtheorem*{problem*}{Problem}
\newtheorem*{solution*}{Solution}
\newtheorem*{intuition*}{Intuition}
\newtheorem*{idea*}{Idea}

%\newcommand{\proof}[1]{\begin{proof}#1\end{proof}}
\newcommand{\btheorem}{\begin{theorem}}
\newcommand{\etheorem}{\end{theorem}}
\newcommand{\bproblem}{\begin{problem}}
\newcommand{\eproblem}{\end{problem}}
\newcommand{\bfact}{\begin{fact}}
\newcommand{\efact}{\end{fact}}
\newcommand{\bexercise}{\begin{exercise}}
\newcommand{\eexercise}{\end{exercise}}
\newcommand{\bclaim}{\begin{claim}}
\newcommand{\eclaim}{\end{claim}}
\newcommand{\bcorollary}{\begin{corollary}}
\newcommand{\ecorollary}{\end{corollary}}
\newcommand{\bremark}{\begin{remark}}
\newcommand{\eremark}{\end{remark}}
\newcommand{\blemma}{\begin{lemma}}
\newcommand{\elemma}{\end{lemma}}
\newcommand{\bexample}{\begin{example}}
\newcommand{\eexample}{\end{example}}
\newcommand{\bdefinition}{\begin{definition}}
\newcommand{\edefinition}{\end{definition}}
\newcommand{\bproof}{\begin{proof}}
\newcommand{\eproof}{\end{proof}}
\newcommand{\sketch}[1]{\begin{proof}[Sketch]#1\end{proof}}

%\newtheoremstyle{named}{}{}{\itshape}{}{\bfseries}{.}{5pt plus 1pt minus 1pt}
%                       {\thmname{ #3}\thmnumber{ #2}}
%\theoremstyle{named}
%\newtheorem{nt}{Theorem}
%\newtheorem*{nt*}{Theorem}

%colors
\newcommand\red[1]{{\color{red} #1}}
\newcommand\orange[1]{{\color{orange} #1}}
\newcommand\yellow[1]{{\color{yellow} #1}}
\newcommand\green[1]{{\color{green} #1}}
\newcommand\blue[1]{{\color{blue} #1}}
\newcommand\purple[1]{{\color{purple} #1}}
\newcommand\white[1]{{\color{white} #1}}
\newcommand\whitespace{{\color{white}.}}

% text
\newcommand{\bitem}{\whitespace\begin{itemize}} % Hack to fix alignment issues
\newcommand{\eitem}{\end{itemize}}
\newcommand{\be}{\whitespace\begin{enumerate}} % Hack to fix alignment issues
\newcommand{\ee}{\end{enumerate}}
\def\bal#1\eal{\begin{align*}#1\end{align*}}
\def\beq#1\eeq{\begin{equation}#1\end{equation}}
\def\bitem#1\eitem{\begin{itemize*}#1\end{itemize*}}
\def\bcomment#1\ecomment{\begin{comment}#1\end{comment}}
\newcommand{\ignore}[1]{}
\newcommand{\raysays}[1]{{\color{red} {\tiny [Ray: #1]}}}
\newcommand{\open}{\textbf{{Open}} }
\newcommand{\todo}[1]{{\color{red} {\tiny [TODO: #1]}}}
\newcommand{\TODO}[1]{{\color{red} {\tiny [TODO: #1]}}}
\newcommand\fillin{\TODO{FILL IN}}
\newcommand\FILLIN{\TODO{FILL IN}}
\newcommand\numberthis{\addtocounter{equation}{1}\tag{\theequation}}
\newcommand{\centered}[1]{\begin{center}{#1}\end{center}}

%%% Math Mode %%%

%% Macros %%
\newcommand\taylorEToX[2]{\sum_{#2 = 0}^{\infty} \frac{\left(#1\right)^{#2}} {\left(#2\right)!} }
\newcommand\liminfty[1]{\lim_{#1\to\infty}}
\newcommand\limtoinfty[1]{\lim_{#1\to\infty}}
\newcommand{\fn}[2]{:#1\to#2}
\newcommand{\m}[1]{$#1$\,}
\newcommand{\q}[1]{\stackrel{?}{#1}}

% matrices for displayed expressions
\newcommand{\mat}[1]{\begin{matrix}#1\end{matrix}} % no delimiters
\newcommand{\pmat}[1]{\pa{\mat{#1}}} % parentheses as delimiters
\newcommand{\bmat}[1]{\ba{\mat{#1}}} % square brackets as delimiters

% for small matrices to be used in in-line expressions
\newcommand{\sm}[1]{\begin{smallmatrix}#1\end{smallmatrix}} % no delimiters
\newcommand{\psm}[1]{\pa{\sm{#1}}} % parentheses as delimiters
\newcommand{\bsm}[1]{\bra{\sm{#1}}} % square brackets as delimiters

% variations of \frac and \sfrac
\newcommand{\pfrac}[2]{\pa{\frac{#1}{#2}}} % enclosed in parentheses
\newcommand{\bfrac}[2]{\bra{\frac{#1}{#2}}} % enclosed in square brackets
\newcommand{\psfrac}[2]{\pa{\sfrac{#1}{#2}}} % sfrac enclosed in parentheses
\newcommand{\bsfrac}[2]{\bra{\sfrac{#1}{#2}}} % sfrac enclosed in square brackets

% bracketing
\newcommand{\lp}{\left(}
\newcommand{\rp}{\right)}
\newcommand{\pa}[1]{\lp#1\rp}
\newcommand{\lb}{\left[}
\newcommand{\rb}{\right]}
\newcommand{\ba}[1]{\lb#1\rb}
\newcommand{\lbr}{\left\{}
\newcommand{\rbr}{\right\}}
\newcommand{\br}[1]{\lbr#1\rbr}
\newcommand{\lf}{\lfloor}
\newcommand{\rf}{\rfloor}
\newcommand{\Lf}{\left\lfloor}
\newcommand{\Rf}{\right\rfloor}
\newcommand{\floor}[1]{\lf {#1} \rf}
\newcommand{\Floor}[1]{\Lf {#1} \Rf}
\newcommand{\lc} {\lceil}
\newcommand{\rc} {\rceil}
\newcommand{\Lc} {\big\lceil}
\newcommand{\Rc} {\big\rceil}
\newcommand{\ceil}[1]{\lc {#1}\rc}
\newcommand{\Ceil}[1]{\Lc {#1}\Rc}
\newcommand{\<}{\langle}
\renewcommand{\>}{\rangle}
\newcommand{\ab}[1]{\langle#1\rangle}
\newcommand{\angbra}[1]{\langle#1\rangle}
\newcommand{\inner}[1]{\langle#1\rangle}
\providecommand{\abs}[1]{\left\vert#1\right\vert}
\newcommand\llnorm[1]{\sqrt{ #1_1^2+#1_2^2}}
\newcommand\lpnorm[2]{\sqrt[ #2 ]{ #1_1^{ #2 }+#1_2^ { #2 }}}
\newcommand\lldotsnorm[2]{\sqrt{ #1_1^2+\cdots + #1_{ #2 }^2}}
\providecommand{\abs}[1]{\left\vert#1\right\vert}

%% Symbols %%
\newcommand\qeq{\q=}
\newcommand\dsp{\displaystyle}
\newcommand\xor{^\wedge}
\newcommand\andl{\wedge}
\newcommand\orl{\vee}
\newcommand\ii{\item}
\newcommand\inv{^{-1}}
\newcommand\dg{^{\circ}}
\newcommand\directsum{\bigoplus}
\newcommand\dsum{\bigoplus}
\newcommand\norm[1]{\left\lVert#1\right\rVert}
\newcommand\nonempty{\neq\emptyset}
\newcommand\isempty{=\emptyset}
\newcommand\many[1]{ #1 \cdots #1 }
\newcommand\pluses{\many+}
\newcommand\minuses{\many-}
\newcommand\wedges{\many\wedge}
\newcommand\normal{\triangleleft\,}
\newcommand\sqrteps{\sqrt\eps}
\newcommand{\defeq}{\vcentcolon=}
\newcommand{\eqdef}{=\vcentcolon}
\newcommand{\sigmastar}{\Sigma^*}
\newcommand{\curv}{\kappa_g}
\newcommand{\lap}[1]{\calL\br{#1}}
\newcommand{\tild}{\widetilde}
\newcommand{\phitilde}{\tild{\varphi}}
\newcommand{\id}[1]{^{(#1)}}
\def\nab{\nabla}
\newcommand\eps{\epsilon}
\newcommand\lam{\lambda}
\newcommand\lamba{\lambda}
\newcommand\half {\frac{1}{2}}
\newcommand\third {\frac{1}{3}}
\newcommand\fourth {\frac{1}{4}}
\newcommand\fifth {\frac{1}{5}}
\newcommand\sixth {\frac{1}{6}}
\newcommand\seventh {\frac{1}{7}}
\newcommand\eigth {\frac{1}{8}}

% arrows
\newcommand\lrarrow {\leftrightarrow}
\newcommand\llrrarrow {\longleftrightarrow}
\newcommand\LRarrow {\Leftrightarrow}
\newcommand\LLRRarrow {\Longeftrightarrow}
\newcommand\rarrow {\rightarrow}
\newcommand\rrarrow {\longrightarrow}
\newcommand\Rarrow {\Rightarrow}
\newcommand\RRarrow {\Longrightarrow}
\newcommand\larrow {\leftarrow}
\newcommand\llarrow {\longleftarrow}
\newcommand\Larrow {\Leftarrow}
\newcommand\LLarrow {\Longleftarrow}

% geometry
\newcommand\ang{\angle}
\newcommand\arc{\widehat}
\newcommand\ol{\overline}
\newcommand\mang{m\angle}
\newcommand\sinang{\sin\angle}
\newcommand\cosang{\cos\angle}
\newcommand\tanang{\tan\angle}

% derivatives
\newcommand\dd[2]{\frac{d#1}{d#2}}
\newcommand\dAdt{\frac{dA}{dt}}
\newcommand\dpdt{\frac{dp}{dt}}
\newcommand\dxdt{\frac{dx}{dt}}
\newcommand\dydx{\frac{dy}{dx}}
\newcommand\dydt{\frac{dy}{dt}}
\newcommand\ddydtt{\frac{d^2y}{dt^2}}
\newcommand\dds {\dd {}{s}}
\newcommand\ddx {\dd {}{x}}
\newcommand\ddy {\dd {}{y}}
\newcommand\ddz {\dd {}{z}}
\newcommand\ddt {\dd {}{t}}
\newcommand\del{\partial}
\newcommand\deldel[2]{\frac{\partial #1}{\partial #2}}
\newcommand\deldelx{\deldel{x}}
\newcommand\deldely{\deldel{y}}
\newcommand\deldelz{\deldel{z}}
\newcommand\deldelt{\deldel{t}}

%% Text %%
\renewcommand{\Pr}{\mathop{\bf Pr\/}}
\newcommand{\E}{\mathop{\bf E\/}}
\newcommand{\Ex}{\mathop{\bf E\/}}
\newcommand{\Var}{\mathop{\bf Var\/}}
\newcommand{\Cov}{\mathop{\bf Cov\/}}
\newcommand{\stddev}{\mathop{\bf stddev\/}}
\newcommand{\bi}[1]{\textit{\textbf{#1}}}
\newcommand\randX{\bm X}
\newcommand\randY{\bm Y}
\newcommand\randZ{\bm Z}
\newcommand\X{\rX}
\newcommand\Y{\rY}
\newcommand\Z{\rZ}
\renewcommand\v[1]{\vec {\bm #1}}

\newcommand\ZZ{\mathbb{Z}}
\newcommand\RR{\mathbb{R}}
\newcommand\AAA{\mathbb{A}}
\newcommand\BB{\mathbb{B}}
\newcommand\QQ{\mathbb{Q}}
\newcommand\CC{\mathbb{C}}
\newcommand\NN{\mathbb{N}}
\newcommand\FF{\mathbb{F}}
\newcommand\HH{\mathbb{H}}
\newcommand\bbA{\mathbb{A}}
\newcommand\bbB{\mathbb{B}}
\newcommand\bbC{\mathbb{C}}
\newcommand\bbD{\mathbb{D}}
\newcommand\bbE{\mathbb{E}}
\newcommand\bbF{\mathbb{F}}
\newcommand\bbG{\mathbb{G}}
\newcommand\bbH{\mathbb{H}}
\newcommand\bbI{\mathbb{I}}
\newcommand\bbJ{\mathbb{J}}
\newcommand\bbK{\mathbb{K}}
\newcommand\bbL{\mathbb{L}}
\newcommand\bbM{\mathbb{M}}
\newcommand\bbN{\mathbb{N}} % to be continued...
\newcommand\calA{\mathcal{A}}
\newcommand\calB{\mathcal{B}}
\newcommand\calC{\mathcal{C}}
\newcommand\calD{\mathcal{D}}
\newcommand\calE{\mathcal{E}}
\newcommand\calF{\mathcal{F}}
\newcommand\calG{\mathcal{G}}
\newcommand\calH{\mathcal{H}}
\newcommand\calI{\mathcal{I}}
\newcommand\calJ{\mathcal{J}}
\newcommand\calK{\mathcal{K}}
\newcommand\calL{\mathcal{L}}
\newcommand\calM{\mathcal{M}}
\newcommand\calN{\mathcal{N}}
\newcommand\calO{\mathcal{O}}
\newcommand\calP{\mathcal{P}}
\newcommand\calR{\mathcal{R}}
\newcommand\calS{\mathcal{S}}
\newcommand\calT{\mathcal{T}}
\newcommand\calU{\mathcal{U}}
\newcommand\calV{\mathcal{V}}
\newcommand\calW{\mathcal{W}}
\newcommand\calX{\mathcal{X}}
\newcommand\calY{\mathcal{Y}}
\newcommand\calZ{\mathcal{Z}}
\newcommand\two{\{0,1\}}
\newcommand\one{\textbf{1}}
\newcommand\zero{\textbf{0}}
\newcommand\CCx{{\mathbb{C}^x}}

% more text FIX with underset
\DeclareMathOperator*{\argmin}{arg\,min}
\DeclareMathOperator*{\argmax}{arg\,max}
\newcommand\lcm{\text{lcm}}
\newcommand\ord{\text{ord}}
\newcommand\dist{\text{dist}\,}
\newcommand\poly{\text{poly}\,}
\DeclareMathOperator\polylog{polylog}
\newcommand\rank{\text{rank}\,}
\newcommand\Ran{\text{Ran}\,}
\newcommand\Ker{\text{Ker}\,}
\newcommand\im{\text{Im}\,}
\newcommand\image{\text{im}\,}
\newcommand\Aut{\text{Aut}\,}
\newcommand\Fix{\text{Fix}\,}
\newcommand\Pow{\text{Pow}\,}
\newcommand\Vol{\text{Vol}\,}
\newcommand\wt{\text{wt}\,}
\newcommand\trace{\,\text{trace}\,}
\newcommand\tr{\,\text{trace}\,}
\renewcommand\div{\,\text{div}\,}
\newcommand\curl{\,\text{curl}\,}
\newcommand\sgn{\text{sgn}\,}
\newcommand\chr{\,\text{char}\,}
\newcommand\Inn{\text{Inn}\,}
\newcommand\spn{\text{span}\,}
\newcommand\suchthat{\,\text{s.t.}\,}
\newcommand\vol{\text{vol}\,}
\newcommand\len{\text{len}\,}
\newcommand\diam{\text{diam}\,}
\newcommand\perm{\text{perm}\,}
\newcommand\Dec{\text{Dec}\,}
\newcommand\supp{\text{supp}\,}
\newcommand\Reg{\text{Reg}\,}
\newcommand\LCS{\text{LCS}\,}
\newcommand\Bin{\text{Binomial}\,}
\newcommand\Binomial{\text{Binomial}\,}
\newcommand\Poisson{\text{Poisson}\,}
\newcommand\Geometric{\text{Geometric}\,}
\newcommand\Bernoulli{\text{Bernoulli}\,}
\newcommand\Exp{\text{Exp}\,}
\newcommand\Uniform{\text{Uniform}\,}
\newcommand\Pareto{\text{Pareto}\,}
\newcommand\Normal{\text{Normal}\,}
\newcommand\depth{\text{depth}\,}
\newcommand\polyn{\text{poly}(n)\,}
\newcommand\size{\text{size}\,}
\newcommand\unsat{\text{unsat}\,}
